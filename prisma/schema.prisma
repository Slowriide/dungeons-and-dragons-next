generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model User {
  id            String      @id @default(cuid())
  email         String      @unique
  name          String?
  createdAt     DateTime    @default(now())
  updatedAt     DateTime    @updatedAt
  image         String?
  password      String?
  emailVerified DateTime?
  accounts      Account[]
  characters    Character[]
}

model Account {
  id                String  @id @default(cuid())
  userId            String
  type              String
  provider          String
  providerAccountId String
  refresh_token     String?
  access_token      String?
  expires_at        Int?
  token_type        String?
  scope             String?
  id_token          String?
  session_state     String?
  user              User    @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([provider, providerAccountId])
}

model Character {
  id                       String   @id @default(cuid())
  name                     String
  level                    Int      @default(1)
  race                     String
  createdAt                DateTime @default(now())
  abilityBonuses           Json?
  alignment                String?
  armorClass               Int?
  background               String?
  backgroundLanguages      String[]
  backgroundSelections     Json?
  backgroundTrait          Json?
  baseAttributes           Json
  characterClass           String
  classFeatures            Json?
  classProficiencies       Json?
  equipment                Json?
  experiencePoints         Int      @default(0)
  hitDie                   Int?
  hitPoints                Int?
  languages                String[]
  proficiencies            String[]
  proficiencyBonus         Int?
  raceLanguages            String[]
  raceTraits               Json?
  selectedEquipmentOption  String?
  selectedProficiencies    String[]
  selectedTraits           Json?
  skills                   Json?
  speed                    Int?
  updatedAt                DateTime @updatedAt
  userId                   String?
  gold                     Json?
  backgroundSkills         Json?
  classArmorProficiencies  String[]
  classWeaponProficiencies String[]
  iniciative               Int?
  selectedAbilityBonuses   String[]
  size                     String?
  user                     User?    @relation(fields: [userId], references: [id])

  @@index([userId])
}
